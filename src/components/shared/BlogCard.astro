---
interface Props {
    title: string;
    category: string;
    excerpt: string;
    image: string;
    date: string;
    readTime: string;
}

const { title, category, excerpt, image, date, readTime } = Astro.props;
---

<article class="group bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
    <!-- Image container avec effet de scale -->
    <div class="relative w-full h-[150px] overflow-hidden">
        <img 
            src={image} 
            alt={title} 
            class="w-full h-full object-cover transition-transform duration-500 ease-out group-hover:scale-120" 
            loading="lazy"
            style="transform-origin: center center;"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        <span class="absolute top-4 left-4 bg-primary text-white text-xs px-3 py-1.5 rounded-full font-medium">
            {category}
        </span>
    </div>

    <!-- Content container -->
    <div class="p-5">
        <!-- Title -->
        <h3 class="text-lg font-semibold text-heading-1 mb-3 line-clamp-2">
            <a href={`/blog/${title.toLowerCase().replace(/\s+/g, '-')}`} 
               class="hover:text-primary transition-colors duration-300">
                {title}
            </a>
        </h3>

        <!-- Excerpt -->
        <p class="text-heading-3 text-sm mb-4 line-clamp-2">
            {excerpt}
        </p>

        <!-- Metadata -->
        <div class="flex items-center justify-between text-sm text-heading-3">
            <span class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                {date}
            </span>
            <span class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                {readTime} read
            </span>
        </div>
    </div>
</article>

<style>
    .scale-120 {
        --tw-scale-x: 1.2;
        --tw-scale-y: 1.2;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>