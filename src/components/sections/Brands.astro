---
import Container from "../../components/shared/Container.astro";
import Title from "../../components/shared/Title.astro";
---
<section class="py-4">
    <Container className="space-y-6">
        <div class="text-center flex items-center justify-center gap-4">
            <div class="h-[1px] w-[2.5rem] sm:w-[6rem] md:w-[8rem] lg:w-[8rem] bg-heading-2"></div>
            <Title className="text-base sm:text-lg md:text-xl lg:text-2xl whitespace-nowrap">Trusted by companies like</Title>
            <div class="h-[1px] w-[2.5rem] sm:w-[6rem] md:w-[8rem] lg:w-[8rem] bg-heading-2"></div>
        </div>
        <div class="flex justify-center w-full">
            <div class="w-full sm:w-[90%] md:w-[70%] lg:w-[60%] flex justify-between items-center gap-2 lg:gap-6">
                <div class="p-2 h-12 sm:h-14 md:h-16 lg:h-24 w-[16vw] sm:w-[calc(90vw/5-1rem)] md:w-[calc(70vw/5-1rem)] lg:w-[calc(60vw/5-1rem)] flex items-center justify-center min-w-[50px]">
                    <img 
                        src="/images/ShopifyLightTheme.png" 
                        data-light-src="/images/ShopifyLightTheme.png" 
                        data-dark-src="/images/ShopifyDarkTheme.png" 
                        alt="Shopify Theme" 
                        class="theme-aware-image w-full h-full object-contain"
                    >
                </div>
                
                <div class="p-2 h-12 sm:h-14 md:h-16 lg:h-24 w-[16vw] sm:w-[calc(90vw/5-1rem)] md:w-[calc(70vw/5-1rem)] lg:w-[calc(60vw/5-1rem)] flex items-center justify-center min-w-[50px]">
                    <img 
                        src="/images/VoileChic-noBG.png" 
                        data-light-src="/images/VoileChic.jpg" 
                        data-dark-src="/images/VoileChic-noBG-dark.png" 
                        alt="Voile Chic" 
                        class="theme-aware-image w-full h-full object-contain"
                    >
                </div>
                
                <div class="p-2 h-12 sm:h-14 md:h-16 lg:h-24 w-[16vw] sm:w-[calc(90vw/5-1rem)] md:w-[calc(70vw/5-1rem)] lg:w-[calc(60vw/5-1rem)] flex items-center justify-center min-w-[50px]">
                    <img 
                        src="/images/SocialSnowball-noBG.png" 
                        data-light-src="/images/SocialSnowball-noBG.png" 
                        data-dark-src="/images/SocialSnowball-noBG.png" 
                        alt="Social Snowball" 
                        class="theme-aware-image w-full h-full object-contain"
                    >
                </div>
                
                <div class="p-2 h-12 sm:h-14 md:h-16 lg:h-24 w-[16vw] sm:w-[calc(90vw/5-1rem)] md:w-[calc(70vw/5-1rem)] lg:w-[calc(60vw/5-1rem)] flex items-center justify-center min-w-[50px]">
                    <img 
                        src="/images/EvesCycle.png" 
                        data-light-src="/images/EvesCycle.png" 
                        data-dark-src="/images/EvesCycle.png" 
                        alt="Eve's Cycle" 
                        class="theme-aware-image w-full h-full object-contain"
                    >
                </div>
                
                <div class="p-2 h-12 sm:h-14 md:h-16 lg:h-24 w-[16vw] sm:w-[calc(90vw/5-1rem)] md:w-[calc(70vw/5-1rem)] lg:w-[calc(60vw/5-1rem)] flex items-center justify-center min-w-[50px]">
                    <img 
                        src="/images/RefunnelLightTheme.png" 
                        data-light-src="/images/RefunnelLightTheme.png" 
                        data-dark-src="/images/RefunnelDarkTheme.png" 
                        alt="Refunnel Theme" 
                        class="theme-aware-image w-full h-full object-contain"
                    >
                </div>
            </div>
        </div>
    </Container>
</section>
<script>
    function updateThemeAwareImages() {
        const isDark = document.documentElement.classList.contains('dark');
        const themeAwareImages = document.querySelectorAll('.theme-aware-image');
        
        themeAwareImages.forEach(image => {
            const currentSrc = image.getAttribute('src') || '';
            const lightSrc = image.getAttribute('data-light-src') || '';
            const darkSrc = image.getAttribute('data-dark-src') || '';
            
            if (lightSrc && darkSrc) {
                image.setAttribute('src', isDark ? darkSrc : lightSrc);
            }
        });
    }

    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.attributeName === 'class') {
                updateThemeAwareImages();
            }
        });
    });

    observer.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['class']
    });

    updateThemeAwareImages();
</script>